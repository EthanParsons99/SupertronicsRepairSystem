@model IEnumerable<SupertronicsRepairSystem.Models.Product>
@{
    Layout = "_ViewProductLayout";
    ViewData["Title"] = "All Products";
    Layout = "_Layout";
}
<style>
  
</style>
<div class="search-bar">
  
    <input type="text" id="productSearch" class="search-input" placeholder="Search products..." />

</div>


<link rel="stylesheet" href="~/css/AllProducts.css">
<style>
    body, html {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
        background-color: #ffffff; 
        height: 100%;
    }

    .search-bar {
        display: flex;
        justify-content: center;
        margin: 10px 0 5px 0;
    }


    .search-input {
        width: 75%;
        padding: 14px 25px;
        font-size: 18px;
        border: none;
        border-radius: 40px;
        outline: none;
        background-color: #f9f9f9;
        box-shadow: 0 2px 6px rgba(0,0,0,0.25);
    }
  
.action-buttons {
    display: flex;
    gap: 10px;
    padding: 16px;
}
.btn-keep-aside {
    background: var(--btn-blue);
    color: white;
    flex: 1;
    border: none;
    border-radius: 10px;
    padding: 12px 0;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
}

.btn-keep-aside:hover {
    background: #2f5dd0;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(65, 105, 225, 0.3);
}

.btn-keep-aside:active {
    transform: translateY(0);
}


.btn-add-cart {
    background: #9575cd;
    color: white;
    flex: 1;
    border: none;
    border-radius: 10px;
    padding: 12px 0;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
}

.btn-add-cart:hover {
    background: #7e57c2;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(149, 117, 205, 0.3);
}

.btn-add-cart:active {
    transform: translateY(0);
}
</style>
<div class="page-wrapper">
    <div class="content-wrap">

        
        <div class="hero-section">
            <h1>
                YOUR TECH <span class="repair">REPAIR</span>
                <span class="bottom-line">STARTS HERE</span>
            </h1>
        </div>

        <!-- Sale Banner -->
        <div class="sale-banner">
            <h2>🔥 MASSIVE SALE! UP TO 50% OFF SELECTED ITEMS! 🔥 LIMITED TIME ONLY! 🔥 SHOP NOW!</h2>
        </div>

        <!-- Products Grid -->
        <div class="product-grid">
            @foreach (var product in Model)
            {
                <div class="product-card">
                    <a asp-controller="Customer" asp-action="CustomerViewProduct" asp-route-id="@product.Id" class="product-card-link">
                        <img src="@(!string.IsNullOrEmpty(product.ImageUrl) ? product.ImageUrl : Url.Content("~/images/"))"
                             alt="@product.Name" class="product-image" />
                        <div class="product-info">
                            <h3>@product.Name</h3>
                            <p>
                                @(string.IsNullOrEmpty(product.Description) ? "Quality product available now"
                                    : (product.Description.Length > 80 ? product.Description.Substring(0, 77) + "..." : product.Description))
                            </p>
                            <div class="price-details">
                                @if (product.DiscountPercentage > 0)
                                {
                                    <span class="discount">-@product.DiscountPercentage%</span>
                                }
                                <span class="current-price">R @String.Format("{0:N0}", product.Price)</span>
                                @if (product.WasPrice > 0 && product.WasPrice > product.Price)
                                {
                                    <span class="was-price">R @String.Format("{0:N0}", product.WasPrice)</span>
                                }
                            </div>
                        </div>
                    </a>
                    <div class="action-buttons">
                        <a class="btn btn-keep-aside"
                           asp-controller="Customer"
                           asp-action="KeepAside"
                           asp-route-serialNumber="@product.SerialNumber">
                            <i class="bi bi-bookmark"></i> Keep Aside
                        </a>

                        <a class="btn btn-add-cart"
                           asp-controller="CustomerDashboard"
                           asp-action="CustomerCart">
                            <i class="bi bi-cart-plus"></i> Add to Cart
                        </a>
                    </div>
                </div>
            }
            <script>
                const searchInput = document.getElementById('productSearch');
                const productCards = document.querySelectorAll('.product-card');

                searchInput.addEventListener('input', function() {
                    const query = this.value.toLowerCase();

                    productCards.forEach(card => {
                        const name = card.querySelector('h3').innerText.toLowerCase();
                        if (name.includes(query)) {
                            card.style.display = '';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            </script>
        </div>
    </div>
</div>
